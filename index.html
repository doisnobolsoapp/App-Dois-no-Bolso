<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dois no Bolso - Controle Financeiro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body { margin: 0; font-family: Arial, sans-serif; }
    </style>
  </head>
  <body>
    <div id="root"></div>
    
    <script>
      console.log('ðŸš€ Dois no Bolso - Iniciando...');
      
      // REMOVER TODOS OS SERVICE WORKERS IMEDIATAMENTE
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
          console.log('ðŸ§¹ Removendo Service Workers...');
          for(let registration of registrations) {
            registration.unregister();
            console.log('âœ… Service Worker removido:', registration.scope);
          }
        }).catch(function(error) {
          console.log('âœ… Nenhum Service Worker encontrado');
        });
      }

      // Limpar qualquer cache de Service Worker
      if ('caches' in window) {
        caches.keys().then(function(names) {
          for (let name of names) {
            caches.delete(name);
            console.log('ðŸ—‘ï¸ Cache removido:', name);
          }
        });
      }

      // Loading simples que serÃ¡ removido pelo React
      setTimeout(() => {
        const loading = document.createElement('div');
        loading.innerHTML = `
          <div style="
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            z-index: 9999;
            text-align: center;
          ">
            <div>
              <div style="
                width: 50px;
                height: 50px;
                border: 4px solid white;
                border-top: 4px solid transparent;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin: 0 auto 20px;
              "></div>
              <h1 style="font-size: 24px; margin-bottom: 10px;">Dois no Bolso</h1>
              <p>Carregando...</p>
            </div>
          </div>
          <style>
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          </style>
        `;
        document.body.appendChild(loading);
        
        // Remover loading apÃ³s 8 segundos (fallback)
        setTimeout(() => {
          if (loading.parentNode) {
            loading.remove();
          }
        }, 8000);
      }, 100);

      console.log('âœ… Ambiente preparado para o React');
    </script>
  </body>
</html>
